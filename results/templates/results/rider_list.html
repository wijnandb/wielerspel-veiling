{% extends "base.html" %}


{% block content %}


            <h1>Renners</h1>
            <br/><br/>
            {% if rider_list %}
                <table class="table" id="renners" data-page-length='25'>
                    <thead>
                        <tr>
                            <th>Rank</th>
                            <th>Renner</th>
                            <th>Land</th>
                            <th>Team</th>
                            <!--th>Ploegleider</th>
                            <th>Prijs</th-->
                            <!--th>Punten</th>
                            <th>JPP</th-->
                        </tr>
                    </thead>
                    <tbody>
                        {% for rider in rider_list %}
                            <tr id="row-{{ rider.id }}">
                                <td><a href="https://cqranking.com/men/asp/gen/rider.asp?riderid={{ rider.pk }}" title="Link naar CQranking pagina van {{ rider }}">{{ rider.rank }}</a></td>
                                <td><a href="{% url 'results:rider-detail' rider.pk %}">{{ rider }}</a></td>
                                <td><a href="{% url 'results:country-detail' rider.nationality %}">{{ rider.nationality }}</a></td>
                                <td><a href="{% url 'results:team-detail' rider.team %}">{{ rider.team }}</a></td>
                                <td>{{ rider.get_calculated_value }}</td>
                                <!--td></td>
                                <td></td-->

                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            {% else %}
                <p>Geen renners aanwezig.</p>
            {% endif %}
            {% for g in geheimelijst %}
                <script type="text/javascript">
                    window.addEventListener('DOMContentLoaded', function(){
                        var riderID = "{{ g.rider.id }}";
                        document.getElementById("button-"+riderID).textContent = "bijwerken";
                        document.getElementById("row-"+riderID).className = "table-success";
                        document.getElementById("value-"+riderID).value = "{{ g.amount }}";
                    });
                </script>
            {% endfor %}

{% endblock %}

